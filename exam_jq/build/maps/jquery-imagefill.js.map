{"version":3,"names":[],"mappings":"","sources":["jquery-imagefill.js"],"sourcesContent":["/**\n * imagefill.js\n * Author & copyright (c) 2013: John Polacek\n * johnpolacek.com\n * https://twitter.com/johnpolacek\n *\n * Dual MIT & GPL license\n *\n * Project Page: http://johnpolacek.github.io/imagefill.js\n *\n * The jQuery plugin for making images fill their containers (and be centered)\n *\n * EXAMPLE\n * Given this html:\n * <div class=\"container\"><img src=\"myawesomeimage\" /></div>\n * $('.container').imagefill(); // image stretches to fill container\n *\n * REQUIRES:\n * imagesLoaded - https://github.com/desandro/imagesloaded\n *\n */\n ;(function($) {\n\n  $.fn.imagefill = function(options) {\n\n    var $container = this,\n        imageAspect = 1/1,\n        containersH = 0,\n        containersW = 0,\n        defaults = {\n          runOnce: false,\n          target: 'img',\n          throttle : 200  // 5fps\n        },\n        settings = $.extend({}, defaults, options);\n\n    var $img = $container.find(settings.target).addClass('loading').css({'position':'absolute'});\n\n    // make sure container isn't position:static\n    var containerPos = $container.css('position');\n    $container.css({'overflow':'hidden','position':(containerPos === 'static') ? 'relative' : containerPos});\n\n    // set containerH, containerW\n    $container.each(function() {\n      containersH += $(this).outerHeight();\n      containersW += $(this).outerWidth();\n    });\n\n    // wait for image to load, then fit it inside the container\n    $container.imagesLoaded().done(function(img) {\n      imageAspect = $img.width() / $img.height();\n      $img.removeClass('loading');\n      fitImages();\n      if (!settings.runOnce) {\n        checkSizeChange();\n      }\n    });\n\n    function fitImages() {\n      containersH  = 0;\n      containersW = 0;\n      $container.each(function() {\n        imageAspect = $(this).find(settings.target).width() / $(this).find(settings.target).height();\n        var containerW = $(this).outerWidth(),\n            containerH = $(this).outerHeight();\n        containersH += $(this).outerHeight();\n        containersW += $(this).outerWidth();\n\n        var containerAspect = containerW/containerH;\n        if (containerAspect < imageAspect) {\n          // taller\n          $(this).find(settings.target).css({\n              width: 'auto',\n              height: containerH,\n              top:0,\n              left:-(containerH*imageAspect-containerW)/2\n            });\n        } else {\n          // wider\n          $(this).find(settings.target).css({\n              width: containerW,\n              height: 'auto',\n              top:-(containerW/imageAspect-containerH)/2,\n              left:0\n            });\n        }\n      });\n    }\n\n    function checkSizeChange() {\n      var checkW = 0,\n          checkH = 0;\n      $container.each(function() {\n        checkH += $(this).outerHeight();\n        checkW += $(this).outerWidth();\n      });\n      if (containersH !== checkH || containersW !== checkW) {\n        fitImages();\n      }\n      setTimeout(checkSizeChange, settings.throttle);\n    }\n    \n    return this;\n  };\n\n}(jQuery));\n"],"file":"jquery-imagefill.js","sourceRoot":"/source/"}